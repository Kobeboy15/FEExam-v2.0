{"ast":null,"code":"import _taggedTemplateLiteral from \"C:/Users/Kobeboy/Desktop/frontend-exam/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"C:/Users/Kobeboy/Desktop/frontend-exam/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"C:/Users/Kobeboy/Desktop/frontend-exam/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Kobeboy\\\\Desktop\\\\frontend-exam\\\\frontend\\\\components\\\\register.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\nmutation Authenticate(\\n  $email: String!\\n  $password: String!\\n) {\\n  authenticate(\\n    email: $email\\n    password: $password\\n  ) \\n}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation Register(\\n    $email: String!\\n    $password: String!\\n  ) {\\n    register(\\n      email: $email\\n      password: $password\\n    ) \\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Link from 'next/link';\nimport { useState } from 'react';\nimport { useRouter } from 'next/router';\nimport styles from './Register.module.css';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\n\nfunction Register() {\n  _s();\n\n  var router = useRouter();\n\n  var _useState = useState({}),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState({\n    email: '',\n    password: '',\n    confirmPassword: ''\n  }),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  var onChange = function onChange(event) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, _defineProperty({}, event.target.name, event.target.value)));\n  };\n\n  var _useMutation = useMutation(AUTHENTICATE_USER, {\n    update: function update(_, result) {\n      console.log(result);\n      toggleLogin(true);\n      router.push('/');\n    },\n    onError: function onError(err) {\n      console.log(err);\n    },\n    variables: {\n      email: values.email,\n      password: values.password\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      authenticateUser = _useMutation2[0],\n      loadingWait = _useMutation2[1].loadingWait;\n\n  var _useMutation3 = useMutation(REGISTER_USER, {\n    update: function update(_, result) {\n      console.log(result);\n      authenticateUser();\n    },\n    onError: function onError(err) {\n      console.log(err.graphQLErrors[0].extensions.exception.errors);\n      setError(err.graphQLErrors[0].extensions.exception.errors);\n    },\n    variables: {\n      email: values.email,\n      password: values.password\n    }\n  }),\n      _useMutation4 = _slicedToArray(_useMutation3, 2),\n      addUser = _useMutation4[0],\n      loading = _useMutation4[1].loading;\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    addUser();\n  };\n\n  return __jsx(\"div\", {\n    className: styles.register__container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.container__content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.content__title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    className: styles.title__text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Register\")), __jsx(\"form\", {\n    onSubmit: onSubmit,\n    className: styles.content__input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.input__login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    className: styles.login__text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Email\"), __jsx(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    className: styles.login__textbox,\n    value: values.email,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: styles.input__login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    className: styles.login__text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Password\"), __jsx(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    className: styles.login__textbox,\n    value: values.password,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: styles.input__login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    className: styles.login__text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Confirm Password\"), __jsx(\"input\", {\n    type: \"password\",\n    name: \"confirmPassword\",\n    className: styles.login__textbox,\n    value: values.confirmPassword,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  })), __jsx(\"button\", {\n    type: \"submit\",\n    className: styles.input__button // onClick={handleRegister}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"Register\"), __jsx(\"p\", {\n    className: styles.input__register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"Already have an account?\", __jsx(Link, {\n    href: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: styles.register__link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, \"Login Here\"))))));\n}\n\n_s(Register, \"mGxKsuQx6NU5ylFbv/Ry24f77gA=\", false, function () {\n  return [useRouter, useMutation, useMutation];\n});\n\n_c = Register;\nvar REGISTER_USER = gql(_templateObject());\nvar AUTHENTICATE_USER = gql(_templateObject2());\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/Kobeboy/Desktop/frontend-exam/frontend/components/register.js"],"names":["Link","useState","useRouter","styles","useMutation","gql","Register","router","error","setError","email","password","confirmPassword","values","setValues","onChange","event","target","name","value","AUTHENTICATE_USER","update","_","result","console","log","toggleLogin","push","onError","err","variables","authenticateUser","loadingWait","REGISTER_USER","graphQLErrors","extensions","exception","errors","addUser","loading","onSubmit","preventDefault","register__container","container__content","content__title","title__text","content__input","input__login","login__text","login__textbox","input__button","input__register","register__link"],"mappings":"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","sourcesContent":["import Link from 'next/link'\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/router'\r\nimport styles from './Register.module.css'\r\n\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport gql from 'graphql-tag'\r\n\r\nfunction Register() {\r\n  const router = useRouter();\r\n\r\n  const [error, setError] = useState({});\r\n  const [values, setValues] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  })\r\n\r\n  const onChange = (event) => {\r\n    setValues({...values, [event.target.name]: event.target.value});\r\n  }\r\n\r\n  const [authenticateUser, { loadingWait }] = useMutation(AUTHENTICATE_USER, {\r\n    update(_, result){\r\n      console.log(result);\r\n      toggleLogin(true);\r\n      router.push('/');\r\n    },\r\n    onError(err){\r\n      console.log(err);\r\n    },\r\n    variables: {\r\n      email: values.email,\r\n      password: values.password\r\n    }\r\n  })\r\n\r\n  const [addUser, { loading }] = useMutation(REGISTER_USER, {\r\n    update(_, result){\r\n      console.log(result);\r\n      authenticateUser();\r\n    },\r\n    onError(err){\r\n      console.log(err.graphQLErrors[0].extensions.exception.errors);\r\n      setError(err.graphQLErrors[0].extensions.exception.errors);\r\n    },\r\n    variables: {\r\n      email: values.email,\r\n      password: values.password\r\n    }\r\n  })\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    addUser();\r\n  }\r\n\r\n  return (\r\n    <div className={styles.register__container}>\r\n      <div className={styles.container__content}>\r\n        <div className={styles.content__title}>\r\n          <h2 className={styles.title__text}>Register</h2>\r\n        </div>\r\n        <form\r\n          onSubmit={onSubmit} \r\n          className={styles.content__input}\r\n        >\r\n          <div className={styles.input__login}>\r\n            <p className={styles.login__text}>Email</p>\r\n            <input \r\n              type=\"email\"\r\n              name=\"email\"\r\n              className={styles.login__textbox}\r\n              value={values.email}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n          <div className={styles.input__login}>\r\n            <p className={styles.login__text}>Password</p>\r\n            <input \r\n              type=\"password\" \r\n              name=\"password\"\r\n              className={styles.login__textbox}\r\n              value={values.password}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n          <div className={styles.input__login}>\r\n            <p className={styles.login__text}>Confirm Password</p>\r\n            <input \r\n              type=\"password\"\r\n              name=\"confirmPassword\" \r\n              className={styles.login__textbox}\r\n              value={values.confirmPassword}\r\n              onChange={onChange}  \r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className={styles.input__button}\r\n            // onClick={handleRegister}\r\n          >\r\n            Register\r\n          </button>\r\n          <p className={styles.input__register}>\r\n            Already have an account?\r\n            <Link href=\"/login\">\r\n              <a className={styles.register__link}>Login Here</a>\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst REGISTER_USER = gql`\r\n  mutation Register(\r\n    $email: String!\r\n    $password: String!\r\n  ) {\r\n    register(\r\n      email: $email\r\n      password: $password\r\n    ) \r\n  }\r\n`\r\n\r\nconst AUTHENTICATE_USER = gql`\r\nmutation Authenticate(\r\n  $email: String!\r\n  $password: String!\r\n) {\r\n  authenticate(\r\n    email: $email\r\n    password: $password\r\n  ) \r\n}\r\n`\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}